cantwait/lash-backend:
  # Distelli Manifest example
  # this example assumes the build and deploy servers are:
  # Ubuntu 14.04

  PkgInclude:
    - '*'

  PkgExclude:
    - node_modules/

  PreBuild:
    - sudo apt-get -y update
    - sudo apt-get -y install build-essential libssl-dev curl
    - curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.26.0/install.sh | bash
  Build:
    - source ~/.nvm/nvm.sh
    - nvm install v8.9.4
    - npm install npm -g
    - npm install

  PreInstall:
    - echo "---Begining PreInstall---"
    - echo "--Installing deploy dependencies--"
    - echo "-Updating apt-get-"
    - sudo apt-get -y update
    - echo "-Installing nodejs-"
    - sudo apt-get -y install build-essential libssl-dev curl
    - curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.26.0/install.sh | bash
    - source ~/.nvm/nvm.sh
    - nvm install v8.9.4
    - npm install npm -g

  PostInstall:
    - echo "Begin PostInstall"
    - npm install

  Env:
    - PORT: "3000"

  Exec:
    - ~/.nvm/versions/node/v8.9.4/bin/node app.js